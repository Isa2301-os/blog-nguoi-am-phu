backend:
  name: github
  repo: Isa2301-os/blog-nguoi-am-phu
  branch: main
  backend:
  name: github
  repo: Isa2301-os/blog-nguoi-am-phu
  branch: main
  # Xóa bỏ các dòng liên quan đến netlify và thay bằng dòng dưới đây
  proxy_url: https://static-cms-auth.netlify.app/.netlify/functions/auth
  auth_endpoint: /auth

# Ảnh tải lên sẽ vào thư mục assets/image
media_folder: "assets/image"
public_folder: "assets/image"

collections:
  # --- PHẦN THÊM MỚI: Cấu hình Menu và Banner ---
  - name: "settings"
    label: "Cấu hình Website"
    delete: false # Không cho phép xóa file cấu hình
    editor:
      preview: false
    files:
      - name: "layout"
        label: "Ảnh Banner & Menu"
        file: "assets/content/settings.json" # Đường dẫn đến file settings.json
        fields:
          - { label: "Banner Trang Chủ", name: "home_banner", widget: "image" }
          - label: "Danh sách Menu Đa Cấp"
            name: "menu_tree"
            widget: "list"
            fields:
              - { label: "Tên Mục Chính", name: "parent", widget: "string" }
              - label: "Các Trang Con"
                name: "children"
                widget: "list"
                fields:
                  - { label: "Tên Trang", name: "name", widget: "string" }
                  - { label: "Link (ví dụ: goc-tan-man.html)", name: "link", widget: "string" }

  # --- GIỮ NGUYÊN PHẦN BÀI VIẾT CỦA BẠN ---
  - name: "posts"
    label: "Tất cả bài viết"
    folder: "assets/content" 
    create: true
    extension: "json"
    format: "json"
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    fields:
      - { label: "Tiêu đề", name: "title", widget: "string" }
      - { label: "Ảnh đại diện", name: "image", widget: "image" }
      - { 
          label: "Chuyên mục", 
          name: "category", 
          widget: "select", 
          options: [
            { label: "Góc Tản Mạn", value: "tan-man" },
            { label: "Thành Nghị", value: "thanh-nghi" },
            { label: "Phim", value: "phim" },
            { label: "Tạp chí", value: "tap-chi" },
            { label: "Show", value: "show" }
          ] 
        }
      - { label: "Nội dung", name: "body", widget: "markdown" }