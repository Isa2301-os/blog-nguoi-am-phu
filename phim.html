<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Review Phim Thành Nghị</title>
    <link rel="stylesheet" href="css/phim.css">
</head>
<body>
    <div class="wrapper blog-page">
        <header class="header">
            <h1>THÀNH NGHỊ-PHIM</h1>
        </header>
        <a href="index.html" class="back-home">← Quay lại trang chủ</a>
   <div class="blog-container" id="movie-list">
    </div>

  <script>
    // 1. Danh sách các file JSON của từng bộ phim (Bạn thêm tên file vào đây sau khi tạo trên CloudCannon)
    const movies = [
        'lien-hoa-lau.json',
        'pho.son.hai.json',
    ];

    async function displayMovies() {
        const container = document.getElementById('movie-list');
        
        for (const fileName of movies) {
            try {
                // Đường dẫn tới thư mục chứa dữ liệu phim bạn tạo trên CloudCannon
                const response = await fetch(`assets/data/movies/${fileName}`);
                const movie = await response.json();

                // Tạo cấu trúc HTML cho mỗi bộ phim
                const article = document.createElement('article');
                article.className = 'blog-item';
                article.innerHTML = `
                   <div class="blog-image">
                       <img src="${movie.poster}" alt="${movie.title}">
                  </div>
                  <div class="blog-content">
                      <h2>${movie.title}</h2>
                      <p class="post-date">Ngày đăng: ${movie.release_date || 'Chưa cập nhật'}</p>
                      <p class="excerpt">${movie.cast || 'Đang cập nhật...'}</p>
                      <a href="review-detail.html?film=${movie.slug}" class="read-more">Đọc review chi tiết</a>
                  </div>
            `;
                container.appendChild(article);
            } catch (err) {
                console.error("Không tải được phim:", fileName);
            }
        }
    }
    window.onload = displayMovies;
  </script>
    </div>
</body>
</html>